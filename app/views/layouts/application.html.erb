<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Dispo" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= favicon_link_tag asset_path('icon.png') %>

    <%# Includes all stylesheet files in app/assets/stylesheets %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "https://unpkg.com/swiper/swiper-bundle.min.css" %>
    <%= javascript_include_tag "https://unpkg.com/swiper/swiper-bundle.min.js" %>

    <%= javascript_importmap_tags %>
     <style>
      :root {
        --bg-primary: #f4f4f4;
        --text-primary: #333333;
        --accent-primary: #2c3e50;
        --highlight: #ecf0f1;
        --vintage-filter: #8c7f73;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        line-height: 1.6;
        max-width: 1200px;
        margin: 0 auto;
        padding: 1rem;
      }

      .landing-hero {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 80vh;
        text-align: center;
      }

      .upload-section {
        background-color: var(--highlight);
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        width: 100%;
        max-width: 500px;
      }

      .btn-primary {
        background-color: var(--accent-primary);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        transition: background-color 0.3s ease;
        cursor: pointer;
      }

      .btn-primary:hover {
        opacity: 0.9;
      }

      .event-images {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .event-images img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 8px;
        filter: grayscale(20%) sepia(10%);
      }

      .logout-btn {
       position: absolute;
       top: 1rem;
       right: 1rem;
       background-color: var(--accent-primary);
       color: white;
       padding: 0.5rem 1rem;
       text-decoration: none;
       border-radius: 4px;
     }

     .back-btn {
       position: absolute;
       top: 1rem;
       left: 1rem;
       background-color: var(--accent-primary);
       color: white;
       padding: 0.5rem 1rem;
       text-decoration: none;
       border-radius: 4px;
     }

     .page-actions {
       display: flex;
       justify-content: space-between;
       align-items: center;
       position: relative;
       width: 100%;
     }
    
     .devise-page .page-actions {
        position: relative;
        top: 2rem;
      }

      .form-control {
        width: 50%;
        padding: 0.5rem;
        margin-bottom: 1rem;
        border: 1px solid var(--accent-primary);
        border-radius: 4px;
      }

      table {
        width: 100%;
        border-collapse: separate; /* Avoid collapse for better spacing */
        border-spacing: 0 15px; /* Add vertical spacing between rows */
        background-color: var(--bg-primary); /* Table background */
      }

      thead th {
        text-align: left;
        padding: 10px;
        background-color: var(--highlight); /* Highlight for headers */
        color: var(--text-primary); /* Primary text color */
        border-bottom: 2px solid var(--accent-primary); /* Accent color for bottom border */
      }

      tbody tr {
        background-color: var(--highlight); /* Highlight background for rows */
        color: var(--text-primary); /* Text color */
        border: 1px solid var(--accent-primary); /* Accent color for row borders */
        border-radius: 4px; /* Round corners for modern design */
        overflow: hidden; /* Apply rounded corners consistently */
      }

      tbody td {
        padding: 10px;
        vertical-align: middle;
      }

      tbody tr + tr {
        margin-top: 15px; /* Add spacing between rows */
      }

      td .btn-primary {
        display: inline-block;
        padding: 5px 10px;
        color: var(--highlight); /* Highlight text color for buttons */
        background-color: var(--accent-primary); /* Accent background for buttons */
        border: none;
        border-radius: 3px;
        text-decoration: none;
        margin-right: 5px; /* Add spacing between buttons */
        font-size: 14px;
      }

      td .btn-primary:hover {
        background-color: var(--vintage-filter); /* Vintage filter color for hover effect */
        color: var(--text-primary); /* Text primary on hover */
      }

      h1 {
        color: var(--accent-primary); /* Accent color for the heading */
        font-size: 24px;
      }

      .upload-section {
        margin-top: 20px;
        padding: 10px;
        background-color: var(--bg-primary); /* Background for the upload section */
        border: 1px solid var(--accent-primary); /* Border for section */
        border-radius: 5px;
      }

      .flash-notice, .flash-alert {
        margin: 10px 0;
        padding: 15px;
        border-radius: 5px;
        font-size: 16px;
        font-weight: bold;
        text-align: center;
      }

      .flash-notice {
        background-color: var(--highlight); /* Light gray background */
        color: var(--text-primary); /* Dark text */
        border: 1px solid var(--accent-primary); /* Accent border */
      }

      .flash-alert {
        background-color: #e74c3c; /* Red background for alerts */
        color: #ffffff; /* White text */
        border: 1px solid #c0392b; /* Darker red border */
      }

      .slides-container {
        display: flex;
        transition: transform 0.5s ease-in-out;
        overflow: hidden;
      }

      .slide {
        flex-shrink: 0;
        width: 100%;
        display: flex;
        justify-content: space-between;
        gap: 2%;
      }

      .slide img {
        width: 100%;
        height: auto;
        object-fit: cover;
        border-radius: 0.5rem; /* Adjust for rounded corners */
      }

      .modal.hidden {
        display: none;
      }
      
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.6);
        z-index: 1000;
      }

      .modal-content {
        position: relative;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        text-align: center; /* Center content inside */
      }

      .qr-code-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px auto;
      }

      .close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: transparent;
        border: none;
        font-size: 20px;
        cursor: pointer;
      }

      .btn-copy {
        margin-top: 10px;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .btn-copy:hover {
        background-color: #0056b3;
      }


    </style>
  </head>

  <body>
    <div class="page-actions">
     <% if request.path != events_path %>
       <%= link_to "← Back", events_path, class: "back-btn" %>
     <% end %>

     <% if user_signed_in? %>
       <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "logout-btn" %>
     <% end %>
   </div>
    <%= yield %>
  </body>
</html>
